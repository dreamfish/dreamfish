CREATE TABLE avatar (id BIGINT AUTO_INCREMENT, name VARCHAR(255), image_file VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE country (id BIGINT AUTO_INCREMENT, name VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE dreamfish_group (id BIGINT AUTO_INCREMENT, dreamfish_group_type_id BIGINT, location VARCHAR(255), interest VARCHAR(255), contact_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX dreamfish_group_type_id_idx (dreamfish_group_type_id), INDEX contact_id_idx (contact_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE dreamfish_group_type (id BIGINT AUTO_INCREMENT, name VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE event (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, from_date DATETIME NOT NULL, to_date DATETIME NOT NULL, description TEXT, venue_type_id BIGINT NOT NULL, venue_url VARCHAR(255), city VARCHAR(255), country_id BIGINT, register_url VARCHAR(255), workshop_id BIGINT, contact_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX workshop_id_idx (workshop_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE good (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE good_project (good_id BIGINT, project_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(good_id, project_id)) ENGINE = INNODB;
CREATE TABLE language (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE language_person (person_id BIGINT, language_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(person_id, language_id)) ENGINE = INNODB;
CREATE TABLE offer_type (id BIGINT AUTO_INCREMENT, name VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE payment_method (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, payment_method_attributes_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX payment_method_attributes_id_idx (payment_method_attributes_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE payment_method_attributes (id BIGINT AUTO_INCREMENT, attribute_list TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE person (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, username VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, mobile_phone VARCHAR(31), avatar_id BIGINT, url VARCHAR(255), city VARCHAR(63), postal_code VARCHAR(15), timezone VARCHAR(15), feedback TEXT, about_me TEXT, twitter VARCHAR(255), payment_method_id BIGINT, chat_setting TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE project (id BIGINT AUTO_INCREMENT, project_type_id BIGINT NOT NULL, description TEXT NOT NULL, stage_id BIGINT, wiki_page VARCHAR(255), contact_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE project_person (person_id BIGINT, project_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(person_id, project_id)) ENGINE = INNODB;
CREATE TABLE project_type (id BIGINT AUTO_INCREMENT, name VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE skill (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE skill_person (skill_id BIGINT, person_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(skill_id, person_id)) ENGINE = INNODB;
CREATE TABLE skill_project (skill_id BIGINT, project_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(skill_id, project_id)) ENGINE = INNODB;
CREATE TABLE stage (id BIGINT AUTO_INCREMENT, name VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE value (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE value_event (event_id BIGINT, value_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(event_id, value_id)) ENGINE = INNODB;
CREATE TABLE value_person (person_id BIGINT, value_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(person_id, value_id)) ENGINE = INNODB;
CREATE TABLE value_project (project_id BIGINT, value_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(project_id, value_id)) ENGINE = INNODB;
CREATE TABLE value_workstory (workstory_id BIGINT, value_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(workstory_id, value_id)) ENGINE = INNODB;
CREATE TABLE venue_type (id BIGINT AUTO_INCREMENT, name VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE wallpost (id BIGINT AUTO_INCREMENT, person_id BIGINT NOT NULL, workshop_id BIGINT NOT NULL, date DATETIME NOT NULL, content TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX person_id_idx (person_id), INDEX workshop_id_idx (workshop_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE welcome_status (id BIGINT AUTO_INCREMENT, name VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE workshop (id BIGINT AUTO_INCREMENT, offer_type_id BIGINT NOT NULL, avatar_id VARCHAR(255), description TEXT, welcome_status_id BIGINT NOT NULL, embedded_video VARCHAR(255), contact_id BIGINT, payment_method_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE workshop_person (workshop_id BIGINT, person_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(workshop_id, person_id)) ENGINE = INNODB;
CREATE TABLE workshop_project (workshop_id BIGINT, project_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(workshop_id, project_id)) ENGINE = INNODB;
CREATE TABLE workstory (id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, date DATETIME NOT NULL, person_id BIGINT NOT NULL, video_embed VARCHAR(255), text TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE workstory_person (workstory_id BIGINT, person_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(workstory_id, person_id)) ENGINE = INNODB;
CREATE TABLE workstory_workshop (workstory_id BIGINT, workshop_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(workstory_id, workshop_id)) ENGINE = INNODB;
ALTER TABLE dreamfish_group ADD CONSTRAINT dreamfish_group_dreamfish_group_type_id_dreamfish_group_type_id FOREIGN KEY (dreamfish_group_type_id) REFERENCES dreamfish_group_type(id);
ALTER TABLE dreamfish_group ADD CONSTRAINT dreamfish_group_contact_id_person_id FOREIGN KEY (contact_id) REFERENCES person(id);
ALTER TABLE event ADD CONSTRAINT event_workshop_id_workshop_id FOREIGN KEY (workshop_id) REFERENCES workshop(id);
ALTER TABLE good_project ADD CONSTRAINT good_project_project_id_project_id FOREIGN KEY (project_id) REFERENCES project(id);
ALTER TABLE good_project ADD CONSTRAINT good_project_good_id_good_id FOREIGN KEY (good_id) REFERENCES good(id);
ALTER TABLE language_person ADD CONSTRAINT language_person_person_id_person_id FOREIGN KEY (person_id) REFERENCES person(id);
ALTER TABLE language_person ADD CONSTRAINT language_person_language_id_language_id FOREIGN KEY (language_id) REFERENCES language(id);
ALTER TABLE payment_method ADD CONSTRAINT pppi FOREIGN KEY (payment_method_attributes_id) REFERENCES payment_method_attributes(id);
ALTER TABLE project_person ADD CONSTRAINT project_person_project_id_project_id FOREIGN KEY (project_id) REFERENCES project(id);
ALTER TABLE project_person ADD CONSTRAINT project_person_person_id_person_id FOREIGN KEY (person_id) REFERENCES person(id);
ALTER TABLE skill_person ADD CONSTRAINT skill_person_skill_id_skill_id FOREIGN KEY (skill_id) REFERENCES skill(id);
ALTER TABLE skill_person ADD CONSTRAINT skill_person_person_id_person_id FOREIGN KEY (person_id) REFERENCES person(id);
ALTER TABLE skill_project ADD CONSTRAINT skill_project_skill_id_skill_id FOREIGN KEY (skill_id) REFERENCES skill(id);
ALTER TABLE skill_project ADD CONSTRAINT skill_project_project_id_project_id FOREIGN KEY (project_id) REFERENCES project(id);
ALTER TABLE value_event ADD CONSTRAINT value_event_value_id_value_id FOREIGN KEY (value_id) REFERENCES value(id);
ALTER TABLE value_event ADD CONSTRAINT value_event_event_id_event_id FOREIGN KEY (event_id) REFERENCES event(id);
ALTER TABLE value_person ADD CONSTRAINT value_person_value_id_value_id FOREIGN KEY (value_id) REFERENCES value(id);
ALTER TABLE value_person ADD CONSTRAINT value_person_person_id_person_id FOREIGN KEY (person_id) REFERENCES person(id);
ALTER TABLE value_project ADD CONSTRAINT value_project_value_id_value_id FOREIGN KEY (value_id) REFERENCES value(id);
ALTER TABLE value_project ADD CONSTRAINT value_project_project_id_project_id FOREIGN KEY (project_id) REFERENCES project(id);
ALTER TABLE value_workstory ADD CONSTRAINT value_workstory_workstory_id_workstory_id FOREIGN KEY (workstory_id) REFERENCES workstory(id);
ALTER TABLE value_workstory ADD CONSTRAINT value_workstory_value_id_value_id FOREIGN KEY (value_id) REFERENCES value(id);
ALTER TABLE wallpost ADD CONSTRAINT wallpost_workshop_id_workshop_id FOREIGN KEY (workshop_id) REFERENCES workshop(id);
ALTER TABLE wallpost ADD CONSTRAINT wallpost_person_id_person_id FOREIGN KEY (person_id) REFERENCES person(id);
ALTER TABLE workshop_person ADD CONSTRAINT workshop_person_workshop_id_workshop_id FOREIGN KEY (workshop_id) REFERENCES workshop(id);
ALTER TABLE workshop_person ADD CONSTRAINT workshop_person_person_id_person_id FOREIGN KEY (person_id) REFERENCES person(id);
ALTER TABLE workshop_project ADD CONSTRAINT workshop_project_workshop_id_workshop_id FOREIGN KEY (workshop_id) REFERENCES workshop(id);
ALTER TABLE workshop_project ADD CONSTRAINT workshop_project_project_id_project_id FOREIGN KEY (project_id) REFERENCES project(id);
ALTER TABLE workstory_person ADD CONSTRAINT workstory_person_person_id_person_id FOREIGN KEY (person_id) REFERENCES person(id);
ALTER TABLE workstory_workshop ADD CONSTRAINT workstory_workshop_workstory_id_workstory_id FOREIGN KEY (workstory_id) REFERENCES workstory(id);
ALTER TABLE workstory_workshop ADD CONSTRAINT workstory_workshop_workshop_id_workshop_id FOREIGN KEY (workshop_id) REFERENCES workshop(id);
